<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中国糖尿病风险评分在线评估工具</title>
    <style>
        /* 页面样式：简洁清晰，适配手机/电脑 */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: "Microsoft YaHei", "PingFang SC", sans-serif; 
            max-width: 800px; 
            margin: 30px auto; 
            padding: 0 20px; 
            color: #333;
        }
        h1 { 
            text-align: center; 
            color: #2469a3; 
            margin-bottom: 20px; 
            font-size: 24px;
        }
        .tips { 
            text-align: center; 
            color: #7a869a; 
            margin-bottom: 30px; 
            font-size: 14px;
        }
        .form-group { 
            margin-bottom: 20px; 
            padding: 15px; 
            background: #f8fafc; 
            border-radius: 8px;
        }
        label { 
            display: block; 
            margin-bottom: 10px; 
            font-weight: 600; 
            font-size: 16px;
        }
        select { 
            width: 100%; 
            padding: 12px; 
            border: 1px solid #ddd; 
            border-radius: 6px; 
            font-size: 16px;
            color: #333;
            background: #fff;
        }
        /* 必填项提示 */
        .required { color: #d56c79; }
        button { 
            width: 100%; 
            padding: 14px; 
            background: #2469a3; 
            color: #fff; 
            border: none; 
            border-radius: 6px; 
            font-size: 18px; 
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover { background: #0f4b82; }
        /* 结果显示区 */
        #result { 
            margin-top: 30px; 
            padding: 20px; 
            border-radius: 8px; 
            font-size: 18px; 
            line-height: 1.6;
            display: none; /* 初始隐藏，计算后显示 */
        }
        .high-risk { background: #fff2f0; color: #c0392b; border: 1px solid #fadbd8; }
        .mid-risk { background: #fff9e6; color: #f39c12; border: 1px solid #fde3a7; }
        .low-risk { background: #f0fdf4; color: #27ae60; border: 1px solid #bbf7d0; }
        .score-text { font-weight: 600; font-size: 20px; }
    </style>
</head>
<body>
    <h1>中国糖尿病风险评分在线评估工具</h1>
    <p class="tips">依据《中国糖尿病风险评分表》设计 | 总分≥25分为高风险，建议进行OGTT筛查</p >

    <!-- 评估表单：6个核心维度，均为必填项 -->
    <div class="form-group">
        <label>1. 年龄（岁）<span class="required">*</span></label>
        <select id="age" required>
            <option value="">请选择年龄区间</option>
            <option value="0">20-24</option>
            <option value="4">25-34</option>
            <option value="8">35-39</option>
            <option value="11">40-44</option>
            <option value="12">45-49</option>
            <option value="13">50-54</option>
            <option value="15">55-59</option>
            <option value="16">60-64</option>
            <option value="18">65-74</option>
            <option value="20">75及以上</option>
        </select>
    </div>

    <div class="form-group">
        <label>2. 体质指数（BMI，kg/m²）<span class="required">*</span></label>
        <select id="bmi" required>
            <option value="">请选择BMI区间</option>
            <option value="0">&lt;22</option>
            <option value="1">22-23.9</option>
            <option value="3">24-29.9</option>
            <option value="5">≥30</option>
        </select>
    </div>

    <div class="form-group">
        <label>3. 糖尿病家族史（父母/同胞/子女）<span class="required">*</span></label>
        <select id="familyHistory" required>
            <option value="">请选择是否有家族史</option>
            <option value="0">无</option>
            <option value="6">有</option>
        </select>
    </div>

    <div class="form-group">
        <label>4. 腰围（cm）<span class="required">*</span></label>
        <select id="waist" required>
            <option value="">请选择腰围区间</option>
            <option value="0">男性&lt;75 / 女性&lt;70</option>
            <option value="3">男性75-79.9 / 女性70-74.9</option>
            <option value="5">男性80-84.9 / 女性75-79.9</option>
            <option value="7">男性85-89.9 / 女性80-84.9</option>
            <option value="8">男性90-94.9 / 女性85-89.9</option>
            <option value="10">男性≥95 / 女性≥90</option>
        </select>
    </div>

    <div class="form-group">
        <label>5. 收缩压（高压，mmHg）<span class="required">*</span></label>
        <select id="systolicPressure" required>
            <option value="">请选择收缩压区间</option>
            <option value="0">&lt;110</option>
            <option value="1">110-119</option>
            <option value="3">120-129</option>
            <option value="6">130-139</option>
            <option value="7">140-149</option>
            <option value="8">150-159</option>
            <option value="10">≥160</option>
        </select>
    </div>

    <div class="form-group">
        <label>6. 性别<span class="required">*</span></label>
        <select id="gender" required>
            <option value="">请选择性别</option>
            <option value="0">女性</option>
            <option value="2">男性</option>
        </select>
    </div>

    <!-- 计算按钮 & 结果显示 -->
    <button onclick="calculateScore()">计算风险评分</button>
    <div id="result"></div>

    <!-- 核心逻辑：必填项验证 + 分数计算 + 结果显示 -->
    <script>
        function calculateScore() {
            // 1. 获取所有选项的值
            const age = document.getElementById("age").value;
            const bmi = document.getElementById("bmi").value;
            const familyHistory = document.getElementById("familyHistory").value;
            const waist = document.getElementById("waist").value;
            const systolicPressure = document.getElementById("systolicPressure").value;
            const gender = document.getElementById("gender").value;

            // 2. 验证是否所有选项都已填写（未填则提示）
            if (!age || !bmi || !familyHistory || !waist || !systolicPressure || !gender) {
                alert("请填写所有带 * 的必填项后再计算！");
                return; // 终止函数，不继续计算
            }

            // 3. 转换为数字并计算总分
            const totalScore = 
                parseInt(age) + 
                parseInt(bmi) + 
                parseInt(familyHistory) + 
                parseInt(waist) + 
                parseInt(systolicPressure) + 
                parseInt(gender);

            // 4. 根据总分判断风险等级和建议
            let riskLevel, advice, resultClass;
            if (totalScore >= 25) {
                riskLevel = "高风险";
                advice = "建议您尽快前往医院进行口服葡萄糖耐量试验（OGTT）筛查，同时控制饮食、增加运动，定期监测血糖和血压。";
                resultClass = "high-risk";
            } else if (totalScore >= 15 && totalScore < 25) {
                riskLevel = "中风险";
                advice = "建议您每半年监测一次血糖，保持健康生活方式（如低脂低盐饮食、每周3次以上运动），控制体重和腰围。";
                resultClass = "mid-risk";
            } else {
                riskLevel = "低风险";
                advice = "您的糖尿病风险较低，建议每年常规体检时监测血糖，继续保持当前健康的生活习惯。";
                resultClass = "low-risk";
            }

            // 5. 显示结果（设置样式 + 内容 + 显示区域）
            const resultElement = document.getElementById("result");
            resultElement.className = `result ${resultClass}`;
            resultElement.innerHTML = `
                <p class="score-text">您的糖尿病风险评分为：<span>${totalScore}</span> 分</p >
                <p>风险等级：${riskLevel}</p >
                <p>健康建议：${advice}</p >
            `;
            resultElement.style.display = "block"; // 显示结果区
        }
    </script>
</body>
</html>
